

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>15. Introduction to Programming &mdash; R Tutorial</title>















    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />



    <link rel="stylesheet" href="_static/siteColours.css" type="text/css" />



    <link rel="top" title="R Tutorial" href="index.html"/>
        <link rel="next" title="Object Oriented Programming" href="objectOriented.html"/>
        <link rel="prev" title="14. Time Data Types" href="time.html"/>


  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">


    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">



            <a href="index.html" class="icon icon-home"> R Tutorial



          </a>




              <div class="version">
                3
              </div>




<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">




        <div id="sidebar">
					<!-- localtoc.html --><ul>
<li><a class="reference internal" href="#">15. Introduction to Programming</a><ul>
<li><a class="reference internal" href="#executing-a-file">15.1. Executing a file</a><ul>
<li><a class="reference internal" href="#executing-the-commands-in-a-file">15.1.1. Executing the commands in a File</a></li>
<li><a class="reference internal" href="#if-statements">15.1.2. if statements</a></li>
<li><a class="reference internal" href="#for-statements">15.1.3. for statements</a></li>
<li><a class="reference internal" href="#while-statements">15.1.4. while statements</a></li>
<li><a class="reference internal" href="#repeat-statements">15.1.5. repeat statements</a></li>
<li><a class="reference internal" href="#break-and-next-statements">15.1.6. break and next statements</a></li>
<li><a class="reference internal" href="#switch-statement">15.1.7. switch statement</a></li>
<li><a class="reference internal" href="#scan-statement">15.1.8. scan statement</a></li>
</ul>
</li>
<li><a class="reference internal" href="#functions">15.2. Functions</a></li>
</ul>
</li>
</ul>

					<!-- globaltoc.html --><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="input.html">1. Input</a></li>
<li class="toctree-l1"><a class="reference internal" href="types.html">2. Basic Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="basicOps.html">3. Basic Operations and Numerical Descriptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="probability.html">4. Basic Probability Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">5. Basic Plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="intermediatePlotting.html">6. Intermediate Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="vectorIndexing.html">7. Indexing Into Vectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="linearLeastSquares.html">8. Linear Least Squares Regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="confidence.html">9. Calculating Confidence Intervals</a></li>
<li class="toctree-l1"><a class="reference internal" href="pValues.html">10. Calculating <em>p</em> Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="power.html">11. Calculating The Power Of A Test</a></li>
<li class="toctree-l1"><a class="reference internal" href="tables.html">12. Two Way Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataManagement.html">13. Data Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="time.html">14. Time Data Types</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">15. Introduction to Programming</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#executing-a-file">15.1. Executing a file</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#executing-the-commands-in-a-file">15.1.1. Executing the commands in a File</a></li>
<li class="toctree-l3"><a class="reference internal" href="#if-statements">15.1.2. if statements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#for-statements">15.1.3. for statements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#while-statements">15.1.4. while statements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#repeat-statements">15.1.5. repeat statements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#break-and-next-statements">15.1.6. break and next statements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#switch-statement">15.1.7. switch statement</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-statement">15.1.8. scan statement</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#functions">15.2. Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="objectOriented.html">Object Oriented Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="hwI.html">16. Case Study: Working Through a HW Problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="cholesterol.html">17. Case Study II: A JAMA Paper on Cholesterol</a></li>
</ul>

        </div>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">


      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">R Tutorial</a>
      </nav>



      <div class="wy-nav-content">
        <div class="rst-content">






<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>

    <li>15. Introduction to Programming</li>
      <li class="wy-breadcrumbs-aside">



      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">

  <div class="section" id="introduction-to-programming">
<span id="scripting"></span><h1>15. Introduction to Programming<a class="headerlink" href="#introduction-to-programming" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#executing-a-file" id="id2">Executing a file</a></li>
<li><a class="reference internal" href="#functions" id="id3">Functions</a></li>
</ul>
</div>
<p>We look at running commands from a source file. We also include an
overview of the different statements that are used for <em>control-flow</em>
that determines which code is executed by the interpreter.</p>
<div class="section" id="executing-a-file">
<h2><a class="toc-backref" href="#id2">15.1. Executing a file</a><a class="headerlink" href="#executing-a-file" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id1">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#executing-the-commands-in-a-file" id="id4">Executing the commands in a File</a></li>
<li><a class="reference internal" href="#if-statements" id="id5">if statements</a></li>
<li><a class="reference internal" href="#for-statements" id="id6">for statements</a></li>
<li><a class="reference internal" href="#while-statements" id="id7">while statements</a></li>
<li><a class="reference internal" href="#repeat-statements" id="id8">repeat statements</a></li>
<li><a class="reference internal" href="#break-and-next-statements" id="id9">break and next statements</a></li>
<li><a class="reference internal" href="#switch-statement" id="id10">switch statement</a></li>
<li><a class="reference internal" href="#scan-statement" id="id11">scan statement</a></li>
</ul>
</div>
<span class="target" id="index-0"></span><p id="index-1">In the next section the ways to execute the commands in a file using
the <em>source</em> command are given. The remaining sections are used to
list the various flow control options that are available in the R
language definition. The language definition has a wide variety of
control functions which can be found using the <em>help</em> command.</p>
<div class="highlight-rconsole"><div class="highlight"><pre><span></span><span class="gp">&gt; </span>help<span class="p">(</span>Control<span class="p">)</span>
<span class="gp">&gt;</span>
</pre></div>
</div>
<div class="section" id="executing-the-commands-in-a-file">
<h3><a class="toc-backref" href="#id4">15.1.1. Executing the commands in a File</a><a class="headerlink" href="#executing-the-commands-in-a-file" title="Permalink to this headline">¶</a></h3>
<p>A set of R commands can be saved in a file and then executed as if you
had typed them in from the command line. The <em>source</em> command is used
to read the file and execute the commands in the same sequence given
in the file.</p>
<div class="highlight-rconsole"><div class="highlight"><pre><span></span><span class="gp">&gt; </span><span class="kn">source</span><span class="p">(</span><span class="s">&#39;file.R&#39;</span><span class="p">)</span>
<span class="gp">&gt; </span>help<span class="p">(</span><span class="kn">source</span><span class="p">)</span>
<span class="gp">&gt;</span>
</pre></div>
</div>
<p>If you simply source the file the commands are not printed, and the
results of commands are not printed. This can be overridden using the
<em>echo</em>, <em>print.eval</em>, and <em>verbose</em> options.</p>
<p>Some examples are given assuming that a file, <em>simpleEx.R</em>, is in the
current directory. The file is given below:</p>
<span class="target" id="index-2"></span><span class="target" id="index-3"></span><span class="target" id="index-4"></span><div class="highlight-r" id="index-5"><div class="highlight"><pre><span></span><span class="c1"># Define a variable.</span>
x <span class="o">&lt;-</span> rnorm<span class="p">(</span><span class="m">10</span><span class="p">)</span>

<span class="c1"># calculate the mean of x and print out the results.</span>
mux <span class="o">=</span> <span class="kp">mean</span><span class="p">(</span>x<span class="p">)</span>
<span class="kp">cat</span><span class="p">(</span><span class="s">&quot;The mean of x is &quot;</span><span class="p">,</span><span class="kp">mean</span><span class="p">(</span>x<span class="p">),</span><span class="s">&quot;\n&quot;</span><span class="p">)</span>

<span class="c1"># print out a summary of the results</span>
<span class="kp">summary</span><span class="p">(</span>x<span class="p">)</span>
<span class="kp">cat</span><span class="p">(</span><span class="s">&quot;The summary of x is \n&quot;</span><span class="p">,</span><span class="kp">summary</span><span class="p">(</span>x<span class="p">),</span><span class="s">&quot;\n&quot;</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span><span class="kp">summary</span><span class="p">(</span>x<span class="p">))</span>
</pre></div>
</div>
<p>The file also demonstrates the use of <em>#</em> to specify
comments. Anything after the <em>#</em> is ignored. Also, the file
demonstrates the use of <em>cat</em> and <em>print</em> to send results to the
standard output. Note that the commands have options to send results
to a file. Use <em>help</em> for more information.</p>
<p>The output for the different options can be found below:</p>
<div class="highlight-rconsole"><div class="highlight"><pre><span></span><span class="gp">&gt; </span><span class="kn">source</span><span class="p">(</span><span class="s">&#39;simpleEx.R&#39;</span><span class="p">)</span>
<span class="go">The mean of x is  -0.4817475</span>
<span class="go">The summary of x is</span>
<span class="go">-2.24 -0.5342 -0.2862 -0.4817 -0.1973 0.4259</span>
<span class="go">    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span>
<span class="go"> -2.2400 -0.5342 -0.2862 -0.4817 -0.1973  0.4259</span>
<span class="gp">&gt;</span>
<span class="gp">&gt;</span>
<span class="gp">&gt;</span>
<span class="gp">&gt; </span><span class="kn">source</span><span class="p">(</span><span class="s">&#39;simpleEx.R&#39;</span><span class="p">,</span>echo<span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
<span class="go">    Min.  1st Qu.   Median     Mean  3rd Qu.     Max.</span>
<span class="go">-2.32600 -0.69140 -0.06772 -0.13540  0.46820  1.69600</span>
<span class="gp">&gt;</span>
<span class="gp">&gt;</span>
<span class="gp">&gt;</span>
<span class="gp">&gt; </span><span class="kn">source</span><span class="p">(</span><span class="s">&#39;simpleEx.R&#39;</span><span class="p">,</span>print.eval<span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
<span class="go">The mean of x is  0.1230581</span>
<span class="go">    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span>
<span class="go">-1.7020 -0.2833  0.1174  0.1231  0.9103  1.2220</span>
<span class="go">The summary of x is</span>
<span class="go">-1.702 -0.2833 0.1174 0.1231 0.9103 1.222</span>
<span class="go">   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span>
<span class="go">-1.7020 -0.2833  0.1174  0.1231  0.9103  1.2220</span>
<span class="gp">&gt;</span>
<span class="gp">&gt;</span>
<span class="gp">&gt;</span>
<span class="gp">&gt; </span><span class="kn">source</span><span class="p">(</span><span class="s">&#39;simpleEx.R&#39;</span><span class="p">,</span>print.eval<span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span>
<span class="go">The mean of x is  0.6279428</span>
<span class="go">The summary of x is</span>
<span class="go">-0.7334 -0.164 0.9335 0.6279 1.23 1.604</span>
<span class="go">   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span>
<span class="go">-0.7334 -0.1640  0.9335  0.6279  1.2300  1.6040</span>
<span class="gp">&gt;</span>
<span class="gp">&gt;</span>
<span class="gp">&gt;</span>
<span class="gp">&gt;</span>
<span class="gp">&gt; </span><span class="kn">source</span><span class="p">(</span><span class="s">&#39;simpleEx.R&#39;</span><span class="p">,</span>verbose<span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
<span class="go">&#39;envir&#39; chosen:&lt;environment: R_GlobalEnv&gt;</span>
<span class="go">encoding = &quot;native.enc&quot; chosen</span>
<span class="go">--&gt; parsed 6 expressions; now eval(.)ing them:</span>

<span class="gp">&gt;&gt;</span><span class="o">&gt;&gt;</span> <span class="kp">eval</span><span class="p">(</span>expression_nr. <span class="m">1</span> <span class="p">)</span>
<span class="go">                 =================</span>

<span class="gp">&gt; </span><span class="c1"># Define a variable.</span>
<span class="gp">&gt; </span>x <span class="o">&lt;-</span> rnorm<span class="p">(</span><span class="m">10</span><span class="p">)</span>
<span class="go">curr.fun: symbol &lt;-</span>
<span class="go"> .. after ‘expression(x &lt;- rnorm(10))’</span>

<span class="gp">&gt;&gt;</span><span class="o">&gt;&gt;</span> <span class="kp">eval</span><span class="p">(</span>expression_nr. <span class="m">2</span> <span class="p">)</span>
<span class="go">                 =================</span>

<span class="gp">&gt; </span><span class="c1"># calculate the mean of x and print out the results.</span>
<span class="gp">&gt; </span>mux <span class="o">=</span> <span class="kp">mean</span><span class="p">(</span>x<span class="p">)</span>
<span class="go">curr.fun: symbol =</span>
<span class="go"> .. after ‘expression(mux = mean(x))’</span>

<span class="gp">&gt;&gt;</span><span class="o">&gt;&gt;</span> <span class="kp">eval</span><span class="p">(</span>expression_nr. <span class="m">3</span> <span class="p">)</span>
<span class="go">                 =================</span>

<span class="gp">&gt; </span><span class="kp">cat</span><span class="p">(</span><span class="s">&quot;The mean of x is &quot;</span><span class="p">,</span><span class="kp">mean</span><span class="p">(</span>x<span class="p">),</span><span class="s">&quot;\n&quot;</span><span class="p">)</span>
<span class="go">The mean of x is  -0.1090932</span>
<span class="go">curr.fun: symbol cat</span>
<span class="go"> .. after ‘expression(cat(&quot;The mean of x is &quot;,mean(x),&quot;\n&quot;))’</span>

<span class="gp">&gt;&gt;</span><span class="o">&gt;&gt;</span> <span class="kp">eval</span><span class="p">(</span>expression_nr. <span class="m">4</span> <span class="p">)</span>
<span class="go">                 =================</span>

<span class="gp">&gt; </span><span class="c1"># print out a summary of the results</span>
<span class="gp">&gt; </span><span class="kp">summary</span><span class="p">(</span>x<span class="p">)</span>
<span class="go">curr.fun: symbol summary</span>
<span class="go">   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span>
<span class="go">-1.3820 -1.0550 -0.1995 -0.1091  0.6813  2.1050</span>
<span class="go"> .. after ‘expression(summary(x))’</span>

<span class="gp">&gt;&gt;</span><span class="o">&gt;&gt;</span> <span class="kp">eval</span><span class="p">(</span>expression_nr. <span class="m">5</span> <span class="p">)</span>
<span class="go">                 =================</span>

<span class="gp">&gt; </span><span class="kp">cat</span><span class="p">(</span><span class="s">&quot;The summary of x is \n&quot;</span><span class="p">,</span><span class="kp">summary</span><span class="p">(</span>x<span class="p">),</span><span class="s">&quot;\n&quot;</span><span class="p">)</span>
<span class="go">The summary of x is</span>
<span class="go"> -1.382 -1.055 -0.1995 -0.1091 0.6813 2.105</span>
<span class="go">curr.fun: symbol cat</span>
<span class="go"> .. after ‘expression(cat(&quot;The summary of x is \n&quot;,summary(x),&quot;\n&quot;))’</span>

<span class="gp">&gt;&gt;</span><span class="o">&gt;&gt;</span> <span class="kp">eval</span><span class="p">(</span>expression_nr. <span class="m">6</span> <span class="p">)</span>
<span class="go">                 =================</span>

<span class="gp">&gt; </span><span class="kp">print</span><span class="p">(</span><span class="kp">summary</span><span class="p">(</span>x<span class="p">))</span>
<span class="go">   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span>
<span class="go">-1.3820 -1.0550 -0.1995 -0.1091  0.6813  2.1050</span>
<span class="go">curr.fun: symbol print</span>
<span class="go"> .. after ‘expression(print(summary(x)))’</span>
</pre></div>
</div>
<p>One common problem that occurs is that R may not know where to find a
file.</p>
<div class="highlight-rconsole"><div class="highlight"><pre><span></span><span class="gp">&gt; </span><span class="kn">source</span><span class="p">(</span><span class="s">&#39;notThere.R&#39;</span><span class="p">)</span>
<span class="go">Error in file(filename, &quot;r&quot;, encoding = encoding) :</span>
<span class="go">  cannot open the connection</span>
<span class="go">In addition: Warning message:</span>
<span class="go">In file(filename, &quot;r&quot;, encoding = encoding) :</span>
<span class="go">  cannot open file &#39;notThere.R&#39;: No such file or directory</span>
</pre></div>
</div>
<p>R will search the current working directory. You can see what files
are in the directory using the <em>dir</em> command, and you can determine
the current directory using the <em>getwd</em> command.</p>
<div class="highlight-rconsole"><div class="highlight"><pre><span></span><span class="gp">&gt; </span><span class="kp">getwd</span><span class="p">()</span>
<span class="go">[1] &quot;/home/black/public_html/tutorial/R/rst/source/R&quot;</span>
<span class="gp">&gt; </span><span class="kp">dir</span><span class="p">()</span>
<span class="go">[1] &quot;plotting.rData&quot; &quot;power.R&quot;        &quot;shadedRegion.R&quot;</span>
</pre></div>
</div>
<p id="index-6">You can change the current directory, and the options available depend
on how you are using R. For example on a Windows PC or a Macintosh you
can use the menu options to change the working directory. You can
choose the directory using a graphical file browser. Otherwise, you
can change to the correct directory before running R or use the
<em>setwd</em> command.</p>
</div>
<div class="section" id="if-statements">
<h3><a class="toc-backref" href="#id5">15.1.2. if statements</a><a class="headerlink" href="#if-statements" title="Permalink to this headline">¶</a></h3>
<span class="target" id="index-7"></span><p id="index-8">Conditional execution is available using the <em>if</em> statement and the
corresponding <em>else</em> statement.</p>
<div class="highlight-rconsole"><div class="highlight"><pre><span></span><span class="gp">&gt; </span>x <span class="o">=</span> <span class="m">0.1</span>
<span class="gp">&gt; </span><span class="kr">if</span><span class="p">(</span> x <span class="o">&lt;</span> <span class="m">0.2</span><span class="p">)</span>
<span class="go">  {</span>
<span class="go">     x &lt;- x + 1</span>
<span class="go">     cat(&quot;increment that number!\n&quot;)</span>
<span class="go">  }</span>
<span class="go">increment that number!</span>
<span class="gp">&gt; </span>x
<span class="go">[1] 1.1</span>
</pre></div>
</div>
<p>The else statement can be used to specify an alternate option. In the
example below note that the <em>else</em> statement must be on the same line
as the ending brace for the previous <em>if</em> block.</p>
<div class="highlight-rconsole"><div class="highlight"><pre><span></span><span class="gp">&gt; </span>x <span class="o">=</span> <span class="m">2.0</span>
<span class="gp">&gt; </span><span class="kr">if</span> <span class="p">(</span> x <span class="o">&lt;</span> <span class="m">0.2</span><span class="p">)</span>
<span class="go"> {</span>
<span class="go">    x &lt;- x + 1</span>
<span class="go">    cat(&quot;increment that number!\n&quot;)</span>
<span class="go"> } else</span>
<span class="go"> {</span>
<span class="go">    x &lt;- x - 1</span>
<span class="go">    cat(&quot;nah, make it smaller.\n&quot;);</span>
<span class="go"> }</span>
<span class="go">nah, make it smaller.</span>
<span class="gp">&gt; </span>x
<span class="go">[1] 1</span>
</pre></div>
</div>
<p>Finally, the <em>if</em> statements can be chained together for multiple
options. The <em>if</em> statement is considered a single code block, so more
<em>if</em> statements can be added after the <em>else</em>.</p>
<div class="highlight-rconsole"><div class="highlight"><pre><span></span><span class="gp">&gt; </span>x <span class="o">=</span> <span class="m">1.0</span>
<span class="gp">&gt; </span><span class="kr">if</span> <span class="p">(</span> x <span class="o">&lt;</span> <span class="m">0.2</span><span class="p">)</span>
<span class="go"> {</span>
<span class="go">    x &lt;- x + 1</span>
<span class="go">    cat(&quot;increment that number!\n&quot;)</span>
<span class="go"> } else if ( x &lt; 2.0)</span>
<span class="go"> {</span>
<span class="go">   x &lt;- 2.0*x</span>
<span class="go">   cat(&quot;not big enough!\n&quot;)</span>
<span class="go"> } else</span>
<span class="go"> {</span>
<span class="go">    x &lt;- x - 1</span>
<span class="go">    cat(&quot;nah, make it smaller.\n&quot;);</span>
<span class="go"> }</span>
<span class="go">not big enough!</span>
<span class="gp">&gt; </span>x
<span class="go">[1] 2</span>
</pre></div>
</div>
<p>The argument to the <em>if</em> statement is a logical expression. A full
list of logical operators can be found in the types document focusing
on logical variables (<a class="reference internal" href="types.html#logicaloperators"><span>Logical</span></a>).</p>
</div>
<div class="section" id="for-statements">
<h3><a class="toc-backref" href="#id6">15.1.3. for statements</a><a class="headerlink" href="#for-statements" title="Permalink to this headline">¶</a></h3>
<p id="index-9">The <em>for</em> loop can be used to repeat a set of instructions, and it is
used when you know in advance the values that the loop variable will
have each time it goes through the loop. The basic format for the
<em>for</em> loop is <em>for(var in seq) expr</em></p>
<p>An example is given below:</p>
<div class="highlight-rconsole" id="index-10"><div class="highlight"><pre><span></span><span class="gp">&gt; </span><span class="kr">for</span> <span class="p">(</span>lupe <span class="kr">in</span> <span class="kp">seq</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">1</span><span class="p">,</span>by<span class="o">=</span><span class="m">0.3</span><span class="p">))</span>
<span class="go"> {</span>
<span class="go">    cat(lupe,&quot;\n&quot;);</span>
<span class="go"> }</span>
<span class="go">0</span>
<span class="go">0.3</span>
<span class="go">0.6</span>
<span class="go">0.9</span>
<span class="gp">&gt;</span>
<span class="gp">&gt; </span>x <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">8</span><span class="p">,</span><span class="m">16</span><span class="p">)</span>
<span class="gp">&gt; </span><span class="kr">for</span> <span class="p">(</span>loop <span class="kr">in</span> x<span class="p">)</span>
<span class="go"> {</span>
<span class="go">    cat(&quot;value of loop: &quot;,loop,&quot;\n&quot;);</span>
<span class="go"> }</span>
<span class="go">value of loop:  1</span>
<span class="go">value of loop:  2</span>
<span class="go">value of loop:  4</span>
<span class="go">value of loop:  8</span>
<span class="go">value of loop:  16</span>
</pre></div>
</div>
<p>See the section on breaks for more options (<a class="reference internal" href="#break"><span>break and next statements</span></a>)</p>
</div>
<div class="section" id="while-statements">
<h3><a class="toc-backref" href="#id7">15.1.4. while statements</a><a class="headerlink" href="#while-statements" title="Permalink to this headline">¶</a></h3>
<p id="index-11">The <em>while</em> loop can be used to repeat a set of instructions, and it
is often used when you do not know in advance how often the
instructions will be executed. The basic format for a <em>while</em> loop is
<em>while(cond) expr</em></p>
<div class="highlight-rconsole" id="index-12"><div class="highlight"><pre><span></span><span class="gp">&gt;</span>
<span class="gp">&gt; </span>lupe <span class="o">&lt;-</span> <span class="m">1</span><span class="p">;</span>
<span class="gp">&gt; </span>x <span class="o">&lt;-</span> <span class="m">1</span>
<span class="gp">&gt; </span><span class="kr">while</span><span class="p">(</span>x <span class="o">&lt;</span> <span class="m">4</span><span class="p">)</span>
<span class="go"> {</span>
<span class="go">    x &lt;- rnorm(1,mean=2,sd=3)</span>
<span class="go">    cat(&quot;trying this value: &quot;,x,&quot; (&quot;,lupe,&quot; times in loop)\n&quot;);</span>
<span class="go">    lupe &lt;- lupe + 1</span>
<span class="go"> }</span>
<span class="go">trying this value:  -4.163169  ( 1  times in loop)</span>
<span class="go">trying this value:  3.061946  ( 2  times in loop)</span>
<span class="go">trying this value:  2.10693  ( 3  times in loop)</span>
<span class="go">trying this value:  -2.06527  ( 4  times in loop)</span>
<span class="go">trying this value:  0.8873237  ( 5  times in loop)</span>
<span class="go">trying this value:  3.145076  ( 6  times in loop)</span>
<span class="go">trying this value:  4.504809  ( 7  times in loop)</span>
</pre></div>
</div>
<p>See the section on breaks for more options (<a class="reference internal" href="#break"><span>break and next statements</span></a>)</p>
</div>
<div class="section" id="repeat-statements">
<h3><a class="toc-backref" href="#id8">15.1.5. repeat statements</a><a class="headerlink" href="#repeat-statements" title="Permalink to this headline">¶</a></h3>
<p id="index-13">The <em>repeat</em> loop is similar to the <em>while</em> loop. The difference is
that it will always begin the loop the first time. The <em>while</em> loop
will only start the loop if the condition is true the first time it is
evaluated. Another difference is that you have to explicitly specify
when to stop the loop using the <em>break</em> command.</p>
<p>That is you need to execute the <em>break</em> statement to get out of the
loop.</p>
<div class="highlight-rconsole" id="index-14"><div class="highlight"><pre><span></span><span class="gp">&gt; </span> <span class="kr">repeat</span>
<span class="go">{</span>
<span class="go">    x &lt;- rnorm(1)</span>
<span class="go">    if(x &lt; -2.0) break</span>
<span class="go">}</span>
<span class="gp">&gt; </span>x
<span class="go">[1] -2.300532</span>
</pre></div>
</div>
<p>See the section on breaks for more options (<a class="reference internal" href="#break"><span>break and next statements</span></a>)</p>
</div>
<div class="section" id="break-and-next-statements">
<span id="break"></span><h3><a class="toc-backref" href="#id9">15.1.6. break and next statements</a><a class="headerlink" href="#break-and-next-statements" title="Permalink to this headline">¶</a></h3>
<span class="target" id="index-15"></span><p id="index-16">The <em>break</em> statement is used to stop the execution of the current
loop. It will break out of the current loop. The <em>next</em> statement is
used to skip the statements that follow and restart the current
loop. If a <em>for</em> loop is used then the <em>next</em> statement will update
the loop variable.</p>
<div class="highlight-rconsole"><div class="highlight"><pre><span></span><span class="gp">&gt; </span>x <span class="o">&lt;-</span> rnorm<span class="p">(</span><span class="m">5</span><span class="p">)</span>
<span class="gp">&gt; </span>x
<span class="go">[1]  1.41699338  2.28086759 -0.01571884  0.56578443  0.60400784</span>
<span class="gp">&gt; </span><span class="kr">for</span><span class="p">(</span>lupe <span class="kr">in</span> x<span class="p">)</span>
<span class="go"> {</span>
<span class="go">     if (lupe &gt; 2.0)</span>
<span class="go">         next</span>

<span class="go">     if( (lupe&lt;0.6) &amp;&amp; (lupe &gt; 0.5))</span>
<span class="go">        break</span>

<span class="go">    cat(&quot;The value of lupe is &quot;,lupe,&quot;\n&quot;);</span>
<span class="go"> }</span>
<span class="go">The value of lupe is  1.416993</span>
<span class="go">The value of lupe is  -0.01571884</span>
</pre></div>
</div>
</div>
<div class="section" id="switch-statement">
<h3><a class="toc-backref" href="#id10">15.1.7. switch statement</a><a class="headerlink" href="#switch-statement" title="Permalink to this headline">¶</a></h3>
<p id="index-17">The <em>switch</em> takes an expression and returns a value in a list based
on the value of the expression. How it does this depends on the data
type of the expression. The basic syntax is <em>switch(statement,item1,item2,item3,...,itemN)</em>.</p>
<p>If the result of the expression is a number then it returns the item
in the list with the same index. Note that the expression is cast as
an integer if it is not an integer.</p>
<div class="highlight-rconsole"><div class="highlight"><pre><span></span><span class="gp">&gt; </span>x <span class="o">&lt;-</span> <span class="kp">as.integer</span><span class="p">(</span><span class="m">2</span><span class="p">)</span>
<span class="gp">&gt; </span>x
<span class="go">[1] 2</span>
<span class="gp">&gt; </span>z <span class="o">=</span> <span class="kr">switch</span><span class="p">(</span>x<span class="p">,</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">)</span>
<span class="gp">&gt; </span>z
<span class="go">[1] 2</span>
<span class="gp">&gt; </span>x <span class="o">&lt;-</span> <span class="m">3.5</span>
<span class="gp">&gt; </span>z <span class="o">=</span> <span class="kr">switch</span><span class="p">(</span>x<span class="p">,</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">)</span>
<span class="gp">&gt; </span>z
<span class="go">[1] 3</span>
</pre></div>
</div>
<p>If the result of the expression is a string, then the list of items
should be in the form <em>&#8220;valueN&#8221;=resultN</em>, and the statement will
return the result that matches the value.</p>
<div class="highlight-rconsole"><div class="highlight"><pre><span></span><span class="gp">&gt; </span>y <span class="o">&lt;-</span> rnorm<span class="p">(</span><span class="m">5</span><span class="p">)</span>
<span class="gp">&gt; </span>y
<span class="go">[1]  0.4218635 -0.8205637 -1.0191267 -0.6080061 -0.6079133</span>
<span class="gp">&gt; </span>x <span class="o">&lt;-</span> <span class="s">&quot;sd&quot;</span>
<span class="gp">&gt; </span>z <span class="o">&lt;-</span> <span class="kr">switch</span><span class="p">(</span>x<span class="p">,</span><span class="s">&quot;mean&quot;</span><span class="o">=</span><span class="kp">mean</span><span class="p">(</span>y<span class="p">),</span><span class="s">&quot;median&quot;</span><span class="o">=</span>median<span class="p">(</span>y<span class="p">),</span><span class="s">&quot;variance&quot;</span><span class="o">=</span>var<span class="p">(</span>y<span class="p">),</span><span class="s">&quot;sd&quot;</span><span class="o">=</span>sd<span class="p">(</span>y<span class="p">))</span>
<span class="gp">&gt; </span>z
<span class="go">[1] 0.5571847</span>
<span class="gp">&gt; </span>x <span class="o">&lt;-</span> <span class="s">&quot;median&quot;</span>
<span class="gp">&gt; </span>z <span class="o">&lt;-</span> <span class="kr">switch</span><span class="p">(</span>x<span class="p">,</span><span class="s">&quot;mean&quot;</span><span class="o">=</span><span class="kp">mean</span><span class="p">(</span>y<span class="p">),</span><span class="s">&quot;median&quot;</span><span class="o">=</span>median<span class="p">(</span>y<span class="p">),</span><span class="s">&quot;variance&quot;</span><span class="o">=</span>var<span class="p">(</span>y<span class="p">),</span><span class="s">&quot;sd&quot;</span><span class="o">=</span>sd<span class="p">(</span>y<span class="p">))</span>
<span class="gp">&gt; </span>z
<span class="go">[1] -0.6080061</span>
</pre></div>
</div>
</div>
<div class="section" id="scan-statement">
<h3><a class="toc-backref" href="#id11">15.1.8. scan statement</a><a class="headerlink" href="#scan-statement" title="Permalink to this headline">¶</a></h3>
<p>The command to read input from the keyboard is the <em>scan</em>
statement. It has a wide variety of options and can be fine tuned to
your specific needs. We only look at the basics here. The <em>scan</em>
statement waits for input from a user, and it returns the value that
was typed in.</p>
<p>When using the command with no set number of lines the command will
continue to read keyboard input until a blank line is entered.</p>
<span class="target" id="index-18"></span><div class="highlight-rconsole" id="index-19"><div class="highlight"><pre><span></span><span class="gp">&gt; </span>help<span class="p">(</span><span class="kp">scan</span><span class="p">)</span>
<span class="gp">&gt; </span>a <span class="o">&lt;-</span> <span class="kp">scan</span><span class="p">(</span>what<span class="o">=</span><span class="kt">double</span><span class="p">(</span><span class="m">0</span><span class="p">))</span>
<span class="go">1: 3.5</span>
<span class="go">2:</span>
<span class="go">Read 1 item</span>
<span class="gp">&gt; </span>a
<span class="go">[1] 3.5</span>
<span class="gp">&gt; </span><span class="kp">typeof</span><span class="p">(</span>a<span class="p">)</span>
<span class="go">[1] &quot;double&quot;</span>
<span class="gp">&gt;</span>
<span class="gp">&gt; </span>a <span class="o">&lt;-</span> <span class="kp">scan</span><span class="p">(</span>what<span class="o">=</span><span class="kt">double</span><span class="p">(</span><span class="m">0</span><span class="p">))</span>
<span class="go">1: yo!</span>
<span class="go">1:</span>
<span class="go">Error in scan(file, what, nmax, sep, dec, quote, skip, nlines, na.strings,  :</span>
<span class="go">scan() expected &#39;a real&#39;, got &#39;yo!&#39;</span>
</pre></div>
</div>
<p>If you wish to only have it read from a fixed number of lines the
<em>nmax</em> option can specify how many lines can be typed in, and the
<em>multi.line</em> option can be used to turn off multi-line entry.</p>
<div class="highlight-rconsole"><div class="highlight"><pre><span></span><span class="gp">&gt; </span>a <span class="o">&lt;-</span>  <span class="kp">scan</span><span class="p">(</span>what<span class="o">=</span><span class="kt">double</span><span class="p">(</span><span class="m">0</span><span class="p">),</span>nmax<span class="o">=</span><span class="m">1</span><span class="p">,</span>multi.line <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
<span class="go">1: 6.7</span>
<span class="go">Read 1 item</span>
<span class="gp">&gt; </span>a
<span class="go">[1] 6.7</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="functions">
<h2><a class="toc-backref" href="#id3">15.2. Functions</a><a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<p id="index-20">A shallow overview of defining functions is given here. A few
subtleties will be noted, but R can be a little quirky with respect to
defining functions. The first bit of oddness is that you can think of
a function as an object where you define the function and assign it to
a variable name.</p>
<p>To define a function you assign it to a name, and the keyword
<em>function</em> is used to denote the start of the function and its
argument list.</p>
<div class="highlight-rconsole" id="index-21"><div class="highlight"><pre><span></span><span class="gp">&gt; </span>newDef <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>a<span class="p">,</span>b<span class="p">)</span>
<span class="go"> {</span>
<span class="go">     x = runif(10,a,b)</span>
<span class="go">     mean(x)</span>
<span class="go"> }</span>
<span class="gp">&gt; </span>newDef<span class="p">(</span><span class="m">-1</span><span class="p">,</span><span class="m">1</span><span class="p">)</span>
<span class="go">[1] 0.06177728</span>
<span class="gp">&gt; </span>newDef
<span class="go">function(a,b)</span>
<span class="go">{</span>
<span class="go">   x = runif(10,a,b)</span>
<span class="go">   mean(x)</span>
<span class="go">}</span>
</pre></div>
</div>
<p>The last expression in the function is what is returned. So in the
example above the sample mean of the numbers is returned.</p>
<div class="highlight-rconsole"><div class="highlight"><pre><span></span><span class="gp">&gt; </span>x <span class="o">&lt;-</span> newDef<span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">1</span><span class="p">)</span>
<span class="gp">&gt; </span>x
<span class="go">[1] 0.4800442</span>
</pre></div>
</div>
<p>The arguments that are passed are matched in order. They can be
specified explicitly, though.</p>
<div class="highlight-rconsole"><div class="highlight"><pre><span></span><span class="gp">&gt; </span>newDef<span class="p">(</span>b<span class="o">=</span><span class="m">10</span><span class="p">,</span>a<span class="o">=</span><span class="m">1</span><span class="p">)</span>
<span class="go">[1] 4.747509</span>
<span class="gp">&gt; </span>newDef<span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="m">1</span><span class="p">)</span>
<span class="go">[1] NaN</span>
<span class="go">Warning message:</span>
<span class="go">In runif(10, a, b) : NAs produced</span>
</pre></div>
</div>
<p>You can mix this approach, and R will try to match up the named
arguments and then match the rest going from left to right. Another
bit of weirdness is that R will not evaluate an expression in the
argument list until the moment it is needed in the function. This is a
different kind of behavior than what most people are used to, so be
very careful about this. The best rule of thumb is to not put in
operations in an argument list if they matter after the function is
called.</p>
<p>Another common task is to have a function return multiple items. This
can be accomplished by returning a <em>list</em> of items. The objects within
a list can be accessed using the same <em>$</em> notation that is used for
data frames.</p>
<div class="highlight-rconsole" id="index-22"><div class="highlight"><pre><span></span><span class="gp">&gt; </span><span class="kt">c</span> <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">)</span>
<span class="gp">&gt; </span>sample <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>a<span class="p">,</span>b<span class="p">)</span>
<span class="go">{</span>
<span class="go">  value = switch(a,&quot;median&quot;=median(b),&quot;mean&quot;=mean(b),&quot;variance&quot;=var(b))</span>
<span class="go">  largeVals = length(c[c&gt;1])</span>
<span class="go">  list(stat=value,number=largeVals)</span>
<span class="go">}</span>
<span class="gp">&gt; </span>result <span class="o">&lt;-</span> <span class="kp">sample</span><span class="p">(</span><span class="s">&quot;median&quot;</span><span class="p">,</span><span class="kt">c</span><span class="p">)</span>
<span class="gp">&gt; </span>result
<span class="go">$stat</span>
<span class="go">[1] 3</span>

<span class="go">$number</span>
<span class="go">[1] 4</span>

<span class="gp">&gt; </span>result<span class="o">$</span>stat
<span class="go">[1] 3</span>
<span class="gp">&gt; </span>result<span class="o">$</span>number
<span class="go">[1] 4</span>
</pre></div>
</div>
<p>There is another potential problem that can occur when using a
function in R. When it comes to determining the value of a variable
there is a path that R will use to search for its value. In the case
of functions if a previously undefined variable appears R will look at
the argument list for the function. Next it will look in the current
work space. If you are not careful R will find the value some place
where you do not expect it, and your function will return a value that
is not correct, and no error will be given. <strong>Be very careful about the
names of variables especially when using functions.</strong></p>
</div>
</div>


           </div>
          </div>





    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">

        <a href="objectOriented.html" class="btn btn-neutral float-right" title="Object Oriented Programming" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>


        <a href="time.html" class="btn btn-neutral" title="14. Time Data Types" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>

    </div>


		<br><br>

		<div class="admonition note">
			<p class="first admonition-title">Sponsorship</p>
			<p class="last">
				This site generously supported
				by <a href="https://www.datacamp.com/"
							target="_blank">Datacamp</a>. Datacamp offers a
				free <a href="https://www.datacamp.com/courses/free-introduction-to-r"
								target="_blank"> interactive introduction to R coding tutorial</a>
				as an additional resource. Already over 100,000 people took this
				free tutorial to sharpen their R coding skills.
			</p>
		</div>


<footer>
		<hr/>

		<div role="contentinfo">

			<p>
			<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc/4.0/80x15.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">R Tutorial</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="mailto:kjblack@gmail.com" property="cc:attributionName" rel="cc:attributionURL">Kelly Black</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International License</a> (2015).<br />Based on a work at <a xmlns:dct="http://purl.org/dc/terms/" href="http://www.cyclismo.org/tutorial/R/" rel="dct:source">http://www.cyclismo.org/tutorial/R/</a>.
</p>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>





    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'3.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>





    <script type="text/javascript" src="_static/js/theme.js"></script>




  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>


</body>
</html>
