<!DOCTYPE html>

<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>
  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>1. S3 Classes &mdash; R Tutorial</title>


  <link rel="stylesheet" href="static/css/theme.css" type="text/css" />


  <link rel="stylesheet" href="static/siteColours.css" type="text/css" />


  <link rel="top" title="R Tutorial" href="index.html" />
  <link rel="up" title="Object Oriented Programming" href="objectOriented.html" />
  <link rel="next" title="2. S4 Classes" href="s4Classes.html" />
  <link rel="prev" title="Object Oriented Programming" href="objectOriented.html" />


  <script src="static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">


    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">


          <a href="index.html" class="icon icon-home"> R Tutorial



          </a>


          <div class="version">
            3
          </div>


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">


          <div id="sidebar">
            <!-- localtoc.html -->
            <ul>
              <li><a class="reference internal" href="#">1. S3 Classes</a>
                <ul>
                  <li><a class="reference internal" href="#the-basic-idea">1.1. The Basic Idea</a></li>
                  <li><a class="reference internal" href="#memory-management">1.2. Memory Management</a></li>
                  <li><a class="reference internal" href="#creating-an-s3-class">1.3. Creating an S3 Class</a>
                    <ul>
                      <li><a class="reference internal" href="#straight-forward-approach">1.3.1. Straight Forward Approach</a></li>
                      <li><a class="reference internal" href="#local-environment-approach">1.3.2. Local Environment Approach</a></li>
                    </ul>
                  </li>
                  <li><a class="reference internal" href="#creating-methods">1.4. Creating  Methods</a>
                    <ul>
                      <li><a class="reference internal" href="#id1">1.4.1. Straight Forward Approach</a></li>
                      <li><a class="reference internal" href="#s3classesmethodslocal">1.4.2. Local Environment Approach</a></li>
                    </ul>
                  </li>
                  <li><a class="reference internal" href="#inheritance">1.5. Inheritance</a></li>
                </ul>
              </li>
            </ul>

            <!-- globaltoc.html -->
            <ul class="current">
              <li class="toctree-l1"><a class="reference internal" href="input.html">1. Input</a></li>
              <li class="toctree-l1"><a class="reference internal" href="types.html">2. Basic Data Types</a></li>
              <li class="toctree-l1"><a class="reference internal" href="basicOps.html">3. Basic Operations and Numerical Descriptions</a></li>
              <li class="toctree-l1"><a class="reference internal" href="probability.html">4. Basic Probability Distributions</a></li>
              <li class="toctree-l1"><a class="reference internal" href="plotting.html">5. Basic Plots</a></li>
              <li class="toctree-l1"><a class="reference internal" href="intermediatePlotting.html">6. Intermediate Plotting</a></li>
              <li class="toctree-l1"><a class="reference internal" href="vectorIndexing.html">7. Indexing Into Vectors</a></li>
              <li class="toctree-l1"><a class="reference internal" href="linearLeastSquares.html">8. Linear Least Squares Regression</a></li>
              <li class="toctree-l1"><a class="reference internal" href="confidence.html">9. Calculating Confidence Intervals</a></li>
              <li class="toctree-l1"><a class="reference internal" href="pValues.html">10. Calculating <em>p</em> Values</a></li>
              <li class="toctree-l1"><a class="reference internal" href="power.html">11. Calculating The Power Of A Test</a></li>
              <li class="toctree-l1"><a class="reference internal" href="tables.html">12. Two Way Tables</a></li>
              <li class="toctree-l1"><a class="reference internal" href="dataManagement.html">13. Data Management</a></li>
              <li class="toctree-l1"><a class="reference internal" href="time.html">14. Time Data Types</a></li>
              <li class="toctree-l1"><a class="reference internal" href="scripting.html">15. Introduction to Programming</a></li>
              <li class="toctree-l1 current"><a class="reference internal" href="objectOriented.html">Object Oriented Programming</a>
                <ul class="current">
                  <li class="toctree-l2 current"><a class="current reference internal" href="">1. S3 Classes</a>
                    <ul>
                      <li class="toctree-l3"><a class="reference internal" href="#the-basic-idea">1.1. The Basic Idea</a></li>
                      <li class="toctree-l3"><a class="reference internal" href="#memory-management">1.2. Memory Management</a></li>
                      <li class="toctree-l3"><a class="reference internal" href="#creating-an-s3-class">1.3. Creating an S3 Class</a>
                        <ul>
                          <li class="toctree-l4"><a class="reference internal" href="#straight-forward-approach">1.3.1. Straight Forward Approach</a></li>
                          <li class="toctree-l4"><a class="reference internal" href="#local-environment-approach">1.3.2. Local Environment Approach</a></li>
                        </ul>
                      </li>
                      <li class="toctree-l3"><a class="reference internal" href="#creating-methods">1.4. Creating  Methods</a>
                        <ul>
                          <li class="toctree-l4"><a class="reference internal" href="#id1">1.4.1. Straight Forward Approach</a></li>
                          <li class="toctree-l4"><a class="reference internal" href="#s3classesmethodslocal">1.4.2. Local Environment Approach</a></li>
                        </ul>
                      </li>
                      <li class="toctree-l3"><a class="reference internal" href="#inheritance">1.5. Inheritance</a></li>
                    </ul>
                  </li>
                  <li class="toctree-l2"><a class="reference internal" href="s4Classes.html">2. S4 Classes</a></li>
                </ul>
              </li>
              <li class="toctree-l1"><a class="reference internal" href="hwI.html">16. Case Study: Working Through a HW Problem</a></li>
              <li class="toctree-l1"><a class="reference internal" href="cholesterol.html">17. Case Study II: A JAMA Paper on Cholesterol</a></li>
            </ul>

          </div>


        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">


      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">R Tutorial</a>
      </nav>


      <div class="wy-nav-content">
        <div class="rst-content">


          <div role="navigation" aria-label="breadcrumbs navigation">
            <ul class="wy-breadcrumbs">
              <li><a href="index.html">Docs</a> &raquo;</li>

              <li><a href="objectOriented.html">Object Oriented Programming</a> &raquo;</li>

              <li>1. S3 Classes</li>
              <li class="wy-breadcrumbs-aside">


              </li>
            </ul>
            <hr/>
          </div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div itemprop="articleBody">

              <div class="section" id="s3-classes">
                <span id="s3classes"></span>
                <h1>1. S3 Classes<a class="headerlink" href="#s3-classes" title="Permalink to this headline">Â¶</a></h1>
                <div class="contents local topic" id="contents">
                  <p class="topic-title first">Contents</p>
                  <ul class="simple">
                    <li><a class="reference internal" href="#the-basic-idea" id="id4">The Basic Idea</a></li>
                    <li><a class="reference internal" href="#memory-management" id="id5">Memory Management</a></li>
                    <li><a class="reference internal" href="#creating-an-s3-class" id="id6">Creating an S3 Class</a>
                      <ul>
                        <li><a class="reference internal" href="#straight-forward-approach" id="id7">Straight Forward Approach</a></li>
                        <li><a class="reference internal" href="#local-environment-approach" id="id8">Local Environment Approach</a></li>
                      </ul>
                    </li>
                    <li><a class="reference internal" href="#creating-methods" id="id9">Creating  Methods</a>
                      <ul>
                        <li><a class="reference internal" href="#id1" id="id10">Straight Forward Approach</a></li>
                        <li><a class="reference internal" href="#s3classesmethodslocal" id="id11">Local Environment Approach</a></li>
                      </ul>
                    </li>
                    <li><a class="reference internal" href="#inheritance" id="id12">Inheritance</a></li>
                  </ul>
                </div>
                <span class="target" id="index-0"></span>
                <p id="index-1">We examine how to create S3 classes. It is assumed that you are familiar with the basic data types and scripting (<a class="reference internal" href="scripting.html#scripting"><span>Introduction to Programming</span></a>).</p>
                <div class="section" id="the-basic-idea">
                  <span id="s3classesbasicidea"></span>
                  <h2><a class="toc-backref" href="#id4">1.1. The Basic Idea</a><a class="headerlink" href="#the-basic-idea" title="Permalink to this headline">Â¶</a></h2>
                  <span class="target" id="index-2"></span>
                  <p id="index-3">First, everything in R is treated like as an object. We have seen this with functions. Many of the objects that are created within an R session have attributes associated with them. One common attribute associated with an object is its
                    <strong>class</strong>.</p>
                  <p>You can set the <strong>class</strong> attribute using the <em>class</em> command. One thing to notice is that the class is a vector which allows an object to inherit from multiple classes, and it allows you to specify the order of inheritance
                    for complex classes. You can also use the <em>class</em> command to determine the classes associated with an object.</p>
                  <div class="highlight-rconsole" id="index-4">
                    <div class="highlight"><pre><span></span><span class="gp">&gt; </span>bubba <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">)</span>
<span class="gp">&gt; </span>bubba
<span class="go">[1] 1 2 3</span>
<span class="gp">&gt;</span>
<span class="gp">&gt; </span><span class="kp">class</span><span class="p">(</span>bubba<span class="p">)</span>
<span class="go">[1] &quot;numeric&quot;</span>
<span class="gp">&gt;</span>
<span class="gp">&gt; </span><span class="kp">class</span><span class="p">(</span>bubba<span class="p">)</span> <span class="o">&lt;-</span> <span class="kp">append</span><span class="p">(</span><span class="kp">class</span><span class="p">(</span>bubba<span class="p">),</span><span class="s">&quot;Flamboyancy&quot;</span><span class="p">)</span>
<span class="gp">&gt; </span><span class="kp">class</span><span class="p">(</span>bubba<span class="p">)</span>
<span class="go">[1] &quot;numeric&quot;     &quot;Flamboyancy&quot;</span>
</pre></div>
                  </div>
                  <div class="admonition note">
                    <p class="first admonition-title">Note</p>
                    <p class="last">A new command, <em>append</em>, is used here. The first argument is a vector, and the function adds the following arguments to the end of the vector.</p>
                  </div>
                  <p id="index-5">One way to define a method for a class is to use the <em>UseMethod</em> command to define a hierarchy of functions that will react appropriately. The <em>UseMethod</em> command will tell R to look for a function whose prefix matches
                    the current function, and it searches for a suffix in order from the vector of class names. In other words a set of functions can be defined, and the function that is actually called will be determined by the class name of the first
                    object in the list of arguments.</p>
                  <p>You first have to define a generic function to reserve the function name. The <em>UseMethod</em> command is then used to tell the R system to search for a different function. The search is based on the name of the function and the names
                    of an object&#8217;s classes. The name of the functions have two parts separated by a &#8221;.&#8221; where the prefix is the function name and the suffix is the name of a class.</p>
                  <p>That is a lot of verbiage to describe a relatively simple idea. A very basic example is given below:</p>
                  <div class="highlight-rconsole">
                    <div class="highlight"><pre><span></span><span class="gp">&gt; </span>bubba <span class="o">&lt;-</span> <span class="kt">list</span><span class="p">(</span>first<span class="o">=</span><span class="s">&quot;one&quot;</span><span class="p">,</span> second<span class="o">=</span><span class="s">&quot;two&quot;</span><span class="p">,</span> third<span class="o">=</span><span class="s">&quot;third&quot;</span><span class="p">)</span>
<span class="gp">&gt; </span><span class="kp">class</span><span class="p">(</span>bubba<span class="p">)</span> <span class="o">&lt;-</span> <span class="kp">append</span><span class="p">(</span><span class="kp">class</span><span class="p">(</span>bubba<span class="p">),</span><span class="s">&quot;Flamboyancy&quot;</span><span class="p">)</span>
<span class="gp">&gt;</span>
<span class="gp">&gt; </span>bubba
<span class="go">$first</span>
<span class="go">[1] &quot;one&quot;</span>

<span class="go">$second</span>
<span class="go">[1] &quot;two&quot;</span>

<span class="go">$third</span>
<span class="go">[1] &quot;third&quot;</span>

<span class="go">attr(,&quot;class&quot;)</span>
<span class="go">[1] &quot;list&quot;        &quot;Flamboyancy&quot;</span>
<span class="gp">&gt;</span>
<span class="gp">&gt; </span>GetFirst <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>x<span class="p">)</span>
<span class="gp">+ </span><span class="p">{</span>
<span class="gp">+ </span>    <span class="kp">UseMethod</span><span class="p">(</span><span class="s">&quot;GetFirst&quot;</span><span class="p">,</span>x<span class="p">)</span>
<span class="gp">+ </span><span class="p">}</span>
<span class="gp">&gt;</span>
<span class="gp">&gt; </span>GetFirst.Flamboyancy <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>x<span class="p">)</span>
<span class="gp">+ </span><span class="p">{</span>
<span class="gp">+ </span>   <span class="kr">return</span><span class="p">(</span>x<span class="o">$</span>first<span class="p">)</span>
<span class="gp">+ </span><span class="p">}</span>
<span class="gp">&gt;</span>
<span class="gp">&gt; </span>GetFirst<span class="p">(</span>bubba<span class="p">)</span>
<span class="go">[1] &quot;one&quot;</span>
</pre></div>
                  </div>
                </div>
                <div class="section" id="memory-management">
                  <h2><a class="toc-backref" href="#id5">1.2. Memory Management</a><a class="headerlink" href="#memory-management" title="Permalink to this headline">Â¶</a></h2>
                  <span class="target" id="index-6"></span><span class="target" id="index-7"></span>
                  <p id="index-8">The plethora of object oriented approaches leads to a natural question. Which one should you use? With respect to S3 and S4 classes, the S3 class is more flexible, and the S4 class is a more structured approach. This is a nice way of
                    saying that the S3 class approach is for unaware slobs and is a sloppy way to shoot yourself in the foot, while the S4 class is for uptight pedants.</p>
                  <p>Our focus here is on S3 classes. Before we delve into the details of S3 classes we need to talk about memory environments. These can be used to great effect in S3 classes to make your codes totally incomprehensible. On the down side
                    they help give S3 classes their flexibility.
                  </p>
                  <p>An environment can be thought of as a local scope. It has a set of variables associated with it. You can access those variables if you have the &#8220;ID&#8217;&#8217; associated with the environment. There are a number of commands you
                    can use to manipulate and obtain the pointers to your environments. You can also use the <em>assign</em> and <em>get</em> commands to set and get the values of variables within an environment.</p>
                  <p>The <em>environment</em> command can be used to get the pointer to the current environment.</p>
                  <div class="highlight-rconsole">
                    <div class="highlight"><pre><span></span><span class="gp">&gt; </span><span class="kp">ls</span><span class="p">()</span>
<span class="go">character(0)</span>
<span class="gp">&gt; </span>e <span class="o">&lt;-</span> <span class="kp">environment</span><span class="p">()</span>
<span class="gp">&gt; </span>e
<span class="go">&lt;environment: R_GlobalEnv&gt;</span>
<span class="gp">&gt; </span><span class="kp">assign</span><span class="p">(</span><span class="s">&quot;bubba&quot;</span><span class="p">,</span><span class="m">3</span><span class="p">,</span>e<span class="p">)</span>
<span class="gp">&gt; </span><span class="kp">ls</span><span class="p">()</span>
<span class="go">[1] &quot;bubba&quot; &quot;e&quot;</span>
<span class="gp">&gt; </span>bubba
<span class="go">[1] 3</span>
<span class="gp">&gt; </span><span class="kp">get</span><span class="p">(</span><span class="s">&quot;bubba&quot;</span><span class="p">,</span>e<span class="p">)</span>
<span class="go">[1] 3</span>
</pre></div>
                  </div>
                  <p>Environments can be created and embedded within other environments and can be structured to form a hierarchy. There are a number of commands to help you move through different environments. You can find more details using the command
                    <em>help(environment)</em>, but we do not pursue more details because this is as much as we need for our purposes of using S3 classes.</p>
                </div>
                <div class="section" id="creating-an-s3-class">
                  <h2><a class="toc-backref" href="#id6">1.3. Creating an S3 Class</a><a class="headerlink" href="#creating-an-s3-class" title="Permalink to this headline">Â¶</a></h2>
                  <p>The basic ideas associated with S3 classes is discussed in the first section (<a class="reference internal" href="#s3classesbasicidea"><span>The Basic Idea</span></a>). We now expand on that idea and demonstrate how to define a function
                    that will create and return an object of a given class. The basic idea is that a list is created with the relevant members, the list&#8217;s class is set, and a copy of the list is returned.</p>
                  <p>Here we examine two different ways to construct an S3 class. The first approach is more commonly used and is more straightforward. It makes use of basic list properties. The second approach makes use of the local environment within a
                    function to define the variables tracked by the class. The advantage to the second approach is that it looks more like the object oriented approach that many are familiar with. The disadvantage is that it is more difficult to read
                    the code, and it is more like working with pointers which is different from the way other objects work in R.</p>
                  <div class="section" id="straight-forward-approach">
                    <h3><a class="toc-backref" href="#id7">1.3.1. Straight Forward Approach</a><a class="headerlink" href="#straight-forward-approach" title="Permalink to this headline">Â¶</a></h3>
                    <p>The first approach is the more standard approach most often seen with S3 classes. It makes use of the methods defined outside of the class which is described below, <a class="reference internal" href="#s3classesmethods"><span>Creating  Methods</span></a>.
                      It also keeps track of the data maintained by the class using the standard practices associated with lists.</p>
                    <p>The basic idea is that a function is defined which creates a list. The data entries tracked by the class are defined in the list. In the example below the defaults are specified in the argument list with default values assigned. A
                      new class name is appended to the list&#8217;s classes, and the list is returned.</p>
                    <div class="highlight-r" id="s3classesdefinitionsimple">
                      <div class="highlight"><pre><span></span>NorthAmerican <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>eatsBreakfast<span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span>myFavorite<span class="o">=</span><span class="s">&quot;cereal&quot;</span><span class="p">)</span>
<span class="p">{</span>

        me <span class="o">&lt;-</span> <span class="kt">list</span><span class="p">(</span>
                hasBreakfast <span class="o">=</span> eatsBreakfast<span class="p">,</span>
                favoriteBreakfast <span class="o">=</span> myFavorite
       <span class="p">)</span>

        <span class="c1">## Set the name for the class</span>
        <span class="kp">class</span><span class="p">(</span>me<span class="p">)</span> <span class="o">&lt;-</span> <span class="kp">append</span><span class="p">(</span><span class="kp">class</span><span class="p">(</span>me<span class="p">),</span><span class="s">&quot;NorthAmerican&quot;</span><span class="p">)</span>
        <span class="kr">return</span><span class="p">(</span>me<span class="p">)</span>
<span class="p">}</span>
</pre></div>
                    </div>
                    <p>Once this definition is executed a new function is defined, called NorthAmerican. A new object of this class can be created by calling the function.</p>
                    <div class="highlight-rconsole">
                      <div class="highlight"><pre><span></span><span class="gp">&gt; </span>bubba <span class="o">&lt;-</span> NorthAmerican<span class="p">()</span>
<span class="gp">&gt; </span>bubba
<span class="go">$hasBreakfast</span>
<span class="go">[1] TRUE</span>

<span class="go">$favoriteBreakfast</span>
<span class="go">[1] &quot;cereal&quot;</span>

<span class="go">attr(,&quot;class&quot;)</span>
<span class="go">[1] &quot;list&quot;          &quot;NorthAmerican&quot;</span>
<span class="gp">&gt; </span>bubba<span class="o">$</span>hasBreakfast
<span class="go">[1] TRUE</span>
<span class="gp">&gt;</span>
<span class="gp">&gt; </span>louise <span class="o">&lt;-</span> NorthAmerican<span class="p">(</span>eatsBreakfast<span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span>myFavorite<span class="o">=</span><span class="s">&quot;fried eggs&quot;</span><span class="p">)</span>
<span class="gp">&gt; </span>louise
<span class="go">$hasBreakfast</span>
<span class="go">[1] TRUE</span>

<span class="go">$favoriteBreakfast</span>
<span class="go">[1] &quot;fried eggs&quot;</span>

<span class="go">attr(,&quot;class&quot;)</span>
<span class="go">[1] &quot;list&quot;          &quot;NorthAmerican&quot;</span>
</pre></div>
                    </div>
                  </div>
                  <div class="section" id="local-environment-approach">
                    <h3><a class="toc-backref" href="#id8">1.3.2. Local Environment Approach</a><a class="headerlink" href="#local-environment-approach" title="Permalink to this headline">Â¶</a></h3>
                    <p>Another approach can be employed that makes use of the local environment within a function to access the variables. When we define methods with this approach later, <a class="reference internal" href="#s3classesmethodslocal"><span>Local Environment Approach</span></a>,
                      the results will look more like object oriented approaches seen in other languages.
                    </p>
                    <p>The approach relies on the local scope created when a function is called. A new environment is created that can be identified using the
                      <em>environment</em> command. The environment can be saved in the list created for the class, and the variables within this scope can then be accessed using the identification of the environment.</p>
                    <p>In the example below this approach appears to require more overhead. When we examine how to add external methods to the class the advantage will be a little clearer.</p>
                    <div class="highlight-r" id="s3classesdefinitionenvironment">
                      <div class="highlight"><pre><span></span>NordAmericain <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>eatsBreakfast<span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span>myFavorite<span class="o">=</span><span class="s">&quot;cereal&quot;</span><span class="p">)</span>
<span class="p">{</span>

      <span class="c1">## Get the environment for this</span>
      <span class="c1">## instance of the function.</span>
      thisEnv <span class="o">&lt;-</span> <span class="kp">environment</span><span class="p">()</span>

      hasBreakfast <span class="o">&lt;-</span> eatsBreakfast
      favoriteBreakfast <span class="o">&lt;-</span> myFavorite

      <span class="c1">## Create the list used to represent an</span>
      <span class="c1">## object for this class</span>
      me <span class="o">&lt;-</span> <span class="kt">list</span><span class="p">(</span>

        <span class="c1">## Define the environment where this list is defined so</span>
        <span class="c1">## that I can refer to it later.</span>
        thisEnv <span class="o">=</span> thisEnv<span class="p">,</span>

        <span class="c1">## The Methods for this class normally go here but are discussed</span>
        <span class="c1">## below. A simple placeholder is here to give you a teaser....</span>
        getEnv <span class="o">=</span> <span class="kr">function</span><span class="p">()</span>
        <span class="p">{</span>
              <span class="kr">return</span><span class="p">(</span><span class="kp">get</span><span class="p">(</span><span class="s">&quot;thisEnv&quot;</span><span class="p">,</span>thisEnv<span class="p">))</span>
        <span class="p">}</span>

        <span class="p">)</span>

      <span class="c1">## Define the value of the list within the current environment.</span>
      <span class="kp">assign</span><span class="p">(</span><span class="s">&#39;this&#39;</span><span class="p">,</span>me<span class="p">,</span>envir<span class="o">=</span>thisEnv<span class="p">)</span>

      <span class="c1">## Set the name for the class</span>
      <span class="kp">class</span><span class="p">(</span>me<span class="p">)</span> <span class="o">&lt;-</span> <span class="kp">append</span><span class="p">(</span><span class="kp">class</span><span class="p">(</span>me<span class="p">),</span><span class="s">&quot;NordAmericain&quot;</span><span class="p">)</span>
      <span class="kr">return</span><span class="p">(</span>me<span class="p">)</span>
<span class="p">}</span>
</pre></div>
                    </div>
                    <p>Now that the class is defined, the environment used for a given object can be easily retrieved.</p>
                    <div class="highlight-rconsole">
                      <div class="highlight"><pre><span></span><span class="gp">&gt; </span>bubba <span class="o">&lt;-</span> NordAmericain<span class="p">()</span>
<span class="gp">&gt; </span><span class="kp">get</span><span class="p">(</span><span class="s">&quot;hasBreakfast&quot;</span><span class="p">,</span>bubba<span class="o">$</span>getEnv<span class="p">())</span>
<span class="go">[1] TRUE</span>
<span class="gp">&gt; </span><span class="kp">get</span><span class="p">(</span><span class="s">&quot;favoriteBreakfast&quot;</span><span class="p">,</span>bubba<span class="o">$</span>getEnv<span class="p">())</span>
<span class="go">[1] &quot;cereal&quot;</span>
</pre></div>
                    </div>
                    <p>Note that there is an unfortunate side effect to this approach. By keeping track of the environment, it is similar to using a pointer to the variables rather than the variables themselves. This means when you make a copy, you are making
                      a copy of the pointer to the environment.
                    </p>
                    <div class="highlight-rconsole">
                      <div class="highlight"><pre><span></span><span class="gp">&gt; </span>bubba <span class="o">&lt;-</span> NordAmericain<span class="p">(</span>myFavorite<span class="o">=</span><span class="s">&quot;oatmeal&quot;</span><span class="p">)</span>
<span class="gp">&gt; </span><span class="kp">get</span><span class="p">(</span><span class="s">&quot;favoriteBreakfast&quot;</span><span class="p">,</span>bubba<span class="o">$</span>getEnv<span class="p">())</span>
<span class="go">[1] &quot;oatmeal&quot;</span>
<span class="gp">&gt; </span>louise <span class="o">&lt;-</span> bubba
<span class="gp">&gt; </span><span class="kp">assign</span><span class="p">(</span><span class="s">&quot;favoriteBreakfast&quot;</span><span class="p">,</span><span class="s">&quot;toast&quot;</span><span class="p">,</span>louise<span class="o">$</span>getEnv<span class="p">())</span>
<span class="gp">&gt; </span><span class="kp">get</span><span class="p">(</span><span class="s">&quot;favoriteBreakfast&quot;</span><span class="p">,</span>louise<span class="o">$</span>getEnv<span class="p">())</span>
<span class="go">[1] &quot;toast&quot;</span>
<span class="gp">&gt; </span><span class="kp">get</span><span class="p">(</span><span class="s">&quot;favoriteBreakfast&quot;</span><span class="p">,</span>bubba<span class="o">$</span>getEnv<span class="p">())</span>
<span class="go">[1] &quot;toast&quot;</span>
</pre></div>
                    </div>
                    <p>This issue will be explored again in the subsection below detailing how to create methods for an S3 class. If you wish to be able to copy an object using this approach you need to create a new method to return a proper copy.</p>
                  </div>
                </div>
                <div class="section" id="creating-methods">
                  <span id="s3classesmethods"></span>
                  <h2><a class="toc-backref" href="#id9">1.4. Creating  Methods</a><a class="headerlink" href="#creating-methods" title="Permalink to this headline">Â¶</a></h2>
                  <p>We now explore how to create methods associated with a class. Again we break it up into two parts. The first approach is used for <strong>both</strong> approaches discussed in the previous section. If you make use of the local environment
                    approach discussed above you will likely make use of both approaches discussed in this section. If you only make use of the more straight forward approach you only need to be aware of the first approach discussed here.</p>
                  <div class="section" id="id1">
                    <h3><a class="toc-backref" href="#id10">1.4.1. Straight Forward Approach</a><a class="headerlink" href="#id1" title="Permalink to this headline">Â¶</a></h3>
                    <p id="index-9">The first approach is to define a function that exists outside of the class. The function is defined in a generic way, and then a function specific to a given class is defined. The R environment then decides which function to use based
                      on the class names of an argument to the function, and the suffix used in the names of the associated functions.
                    </p>
                    <p>One thing to keep in mind is that for assignment R makes copies of objects. The implication is that if you change a part of an object you need to return an exact copy of the object. Otherwise your changes may be lost.</p>
                    <p>In the examples below we define accessors for the variables in the class defined above. We assume that the class <em>NorthAmerican</em> is defined in the same way as the first example above,
                      <a class="reference internal" href="#s3classesdefinitionsimple"><span>Straightforward Class</span></a>. In the first example the goal is that we want to create a function that will set the value of <em>hasBreakfast</em> for a given
                      object. The name of the function will be <em>setHasBreakfast</em>.</p>
                    <p>The first step is to reserve the name of the function, and use the
                      <em>UseMethod</em> command to tell R to search for the correct function. If we pass an object whose class includes the name <em>NorthAmerican</em> then the correct function to call should be called
                      <em>setHasBreakfast.NorthAmerican</em>. Note that we will also create a function called <em>setHasBreakfast.default</em>. This function will be called if R cannot find another function of the correct class.</p>
                    <div class="highlight-r">
                      <div class="highlight"><pre><span></span>setHasBreakfast <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>elObjeto<span class="p">,</span> newValue<span class="p">)</span>
        <span class="p">{</span>
                <span class="kp">print</span><span class="p">(</span><span class="s">&quot;Calling the base setHasBreakfast function&quot;</span><span class="p">)</span>
                <span class="kp">UseMethod</span><span class="p">(</span><span class="s">&quot;setHasBreakfast&quot;</span><span class="p">,</span>elObjeto<span class="p">)</span>
                <span class="kp">print</span><span class="p">(</span><span class="s">&quot;Note this is not executed!&quot;</span><span class="p">)</span>
        <span class="p">}</span>

setHasBreakfast.default <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>elObjeto<span class="p">,</span> newValue<span class="p">)</span>
        <span class="p">{</span>
                <span class="kp">print</span><span class="p">(</span><span class="s">&quot;You screwed up. I do not know how to handle this object.&quot;</span><span class="p">)</span>
                <span class="kr">return</span><span class="p">(</span>elObjeto<span class="p">)</span>
        <span class="p">}</span>


setHasBreakfast.NorthAmerican <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>elObjeto<span class="p">,</span> newValue<span class="p">)</span>
        <span class="p">{</span>
                <span class="kp">print</span><span class="p">(</span><span class="s">&quot;In setHasBreakfast.NorthAmerican and setting the value&quot;</span><span class="p">)</span>
                elObjeto<span class="o">$</span>hasBreakfast <span class="o">&lt;-</span> newValue
                <span class="kr">return</span><span class="p">(</span>elObjeto<span class="p">)</span>
        <span class="p">}</span>
</pre></div>
                    </div>
                    <p>The first thing to note is that the function returns a copy of the object passed to it. R passes copies of objects to functions. If you change an object within a function it does not change the original object. You must pass back a
                      copy of the updated object.</p>
                    <div class="highlight-rconsole">
                      <div class="highlight"><pre><span></span><span class="gp">&gt; </span>bubba <span class="o">&lt;-</span> NorthAmerican<span class="p">()</span>
<span class="gp">&gt; </span>bubba<span class="o">$</span>hasBreakfast
<span class="go">[1] TRUE</span>
<span class="gp">&gt; </span>bubba <span class="o">&lt;-</span> setHasBreakfast<span class="p">(</span>bubba<span class="p">,</span><span class="kc">FALSE</span><span class="p">)</span>
<span class="go">[1] &quot;Calling the base setHasBreakfast function&quot;</span>
<span class="go">[1] &quot;In setHasBreakfast.NorthAmerican and setting the value&quot;</span>
<span class="gp">&gt; </span>bubba<span class="o">$</span>hasBreakfast
<span class="go">[1] FALSE</span>
<span class="gp">&gt; </span>bubba <span class="o">&lt;-</span> setHasBreakfast<span class="p">(</span>bubba<span class="p">,</span><span class="s">&quot;No type checking sucker!&quot;</span><span class="p">)</span>
<span class="go">[1] &quot;Calling the base setHasBreakfast function&quot;</span>
<span class="go">[1] &quot;In setHasBreakfast.NorthAmerican and setting the value&quot;</span>
<span class="gp">&gt; </span>bubba<span class="o">$</span>hasBreakfast
<span class="go">[1] &quot;No type checking sucker!&quot;</span>
</pre></div>
                    </div>
                    <p>If the correct function cannot be found then the default version of the function is called.</p>
                    <div class="highlight-rconsole">
                      <div class="highlight"><pre><span></span><span class="gp">&gt; </span>someNumbers <span class="o">&lt;-</span> <span class="m">1</span><span class="o">:</span><span class="m">4</span>
<span class="gp">&gt; </span>someNumbers
<span class="go">[1] 1 2 3 4</span>
<span class="gp">&gt; </span>someNumbers <span class="o">&lt;-</span> setHasBreakfast<span class="p">(</span>someNumbers<span class="p">,</span><span class="s">&quot;what?&quot;</span><span class="p">)</span>
<span class="go">[1] &quot;Calling the base setHasBreakfast function&quot;</span>
<span class="go">[1] &quot;You screwed up. I do not know how to handle this object.&quot;</span>
<span class="gp">&gt; </span>someNumbers
<span class="go">[1] 1 2 3 4</span>
</pre></div>
                    </div>
                    <p>It is a good practice to only use predefined accessors to get and set values held by an object. As a matter of completeness we define methods to get the value of the <em>hasBreakfast</em> field.</p>
                    <div class="highlight-r">
                      <div class="highlight"><pre><span></span>getHasBreakfast <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>elObjeto<span class="p">)</span>
        <span class="p">{</span>
                <span class="kp">print</span><span class="p">(</span><span class="s">&quot;Calling the base getHasBreakfast function&quot;</span><span class="p">)</span>
                <span class="kp">UseMethod</span><span class="p">(</span><span class="s">&quot;getHasBreakfast&quot;</span><span class="p">,</span>elObjeto<span class="p">)</span>
                <span class="kp">print</span><span class="p">(</span><span class="s">&quot;Note this is not executed!&quot;</span><span class="p">)</span>
        <span class="p">}</span>

getHasBreakfast.default <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>elObjeto<span class="p">)</span>
        <span class="p">{</span>
                <span class="kp">print</span><span class="p">(</span><span class="s">&quot;You screwed up. I do not know how to handle this object.&quot;</span><span class="p">)</span>
                <span class="kr">return</span><span class="p">(</span><span class="kc">NULL</span><span class="p">)</span>
        <span class="p">}</span>


getHasBreakfast.NorthAmerican <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>elObjeto<span class="p">)</span>
        <span class="p">{</span>
                <span class="kp">print</span><span class="p">(</span><span class="s">&quot;In getHasBreakfast.NorthAmerican and returning the value&quot;</span><span class="p">)</span>
                <span class="kr">return</span><span class="p">(</span>elObjeto<span class="o">$</span>hasBreakfast<span class="p">)</span>
        <span class="p">}</span>
</pre></div>
                    </div>
                    <p>The functions to get the values are used in the same way.</p>
                    <div class="highlight-rconsole">
                      <div class="highlight"><pre><span></span><span class="gp">&gt; </span>bubba <span class="o">&lt;-</span> NorthAmerican<span class="p">()</span>
<span class="gp">&gt; </span>bubba <span class="o">&lt;-</span> setHasBreakfast<span class="p">(</span>bubba<span class="p">,</span><span class="s">&quot;No type checking sucker!&quot;</span><span class="p">)</span>
<span class="go">[1] &quot;Calling the base setHasBreakfast function&quot;</span>
<span class="go">[1] &quot;In setHasBreakfast.NorthAmerican and setting the value&quot;</span>
<span class="gp">&gt; </span>result <span class="o">&lt;-</span> getHasBreakfast<span class="p">(</span>bubba<span class="p">)</span>
<span class="go">[1] &quot;Calling the base getHasBreakfast function&quot;</span>
<span class="go">[1] &quot;In getHasBreakfast.NorthAmerican and returning the value&quot;</span>
<span class="gp">&gt; </span>result
<span class="go">[1] &quot;No type checking sucker!&quot;</span>
</pre></div>
                    </div>
                  </div>
                  <div class="section" id="s3classesmethodslocal">
                    <span id="id2"></span>
                    <h3><a class="toc-backref" href="#id11">1.4.2. Local Environment Approach</a><a class="headerlink" href="#s3classesmethodslocal" title="Permalink to this headline">Â¶</a></h3>
                    <p>If the second method for defining an S3 class is used as seen above,
                      <a class="reference internal" href="#s3classesdefinitionenvironment"><span>Local Environment Class</span></a>, then the approach for defining a method can include an additional way to define a method. In this approach functions can
                      be defined within the list that defines the object.</p>
                    <div class="highlight-r">
                      <div class="highlight"><pre><span></span>NordAmericain <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>eatsBreakfast<span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span>myFavorite<span class="o">=</span><span class="s">&quot;cereal&quot;</span><span class="p">)</span>
<span class="p">{</span>

      <span class="c1">## Get the environment for this</span>
      <span class="c1">## instance of the function.</span>
      thisEnv <span class="o">&lt;-</span> <span class="kp">environment</span><span class="p">()</span>

      hasBreakfast <span class="o">&lt;-</span> eatsBreakfast
      favoriteBreakfast <span class="o">&lt;-</span> myFavorite

      <span class="c1">## Create the list used to represent an</span>
      <span class="c1">## object for this class</span>
      me <span class="o">&lt;-</span> <span class="kt">list</span><span class="p">(</span>

              <span class="c1">## Define the environment where this list is defined so</span>
              <span class="c1">## that I can refer to it later.</span>
              thisEnv <span class="o">=</span> thisEnv<span class="p">,</span>

              <span class="c1">## Define the accessors for the data fields.</span>
              getEnv <span class="o">=</span> <span class="kr">function</span><span class="p">()</span>
              <span class="p">{</span>
                      <span class="kr">return</span><span class="p">(</span><span class="kp">get</span><span class="p">(</span><span class="s">&quot;thisEnv&quot;</span><span class="p">,</span>thisEnv<span class="p">))</span>
              <span class="p">},</span>

              getHasBreakfast <span class="o">=</span> <span class="kr">function</span><span class="p">()</span>
              <span class="p">{</span>
                      <span class="kr">return</span><span class="p">(</span><span class="kp">get</span><span class="p">(</span><span class="s">&quot;hasBreakfast&quot;</span><span class="p">,</span>thisEnv<span class="p">))</span>
              <span class="p">},</span>

              setHasBreakfast <span class="o">=</span> <span class="kr">function</span><span class="p">(</span>value<span class="p">)</span>
              <span class="p">{</span>
                      <span class="kr">return</span><span class="p">(</span><span class="kp">assign</span><span class="p">(</span><span class="s">&quot;hasBreakfast&quot;</span><span class="p">,</span>value<span class="p">,</span>thisEnv<span class="p">))</span>
              <span class="p">},</span>


              getFavoriteBreakfast <span class="o">=</span> <span class="kr">function</span><span class="p">()</span>
              <span class="p">{</span>
                      <span class="kr">return</span><span class="p">(</span><span class="kp">get</span><span class="p">(</span><span class="s">&quot;favoriteBreakfast&quot;</span><span class="p">,</span>thisEnv<span class="p">))</span>
              <span class="p">},</span>

              setFavoriteBreakfast <span class="o">=</span> <span class="kr">function</span><span class="p">(</span>value<span class="p">)</span>
              <span class="p">{</span>
                      <span class="kr">return</span><span class="p">(</span><span class="kp">assign</span><span class="p">(</span><span class="s">&quot;favoriteBreakfast&quot;</span><span class="p">,</span>value<span class="p">,</span>thisEnv<span class="p">))</span>
              <span class="p">}</span>

        <span class="p">)</span>

      <span class="c1">## Define the value of the list within the current environment.</span>
      <span class="kp">assign</span><span class="p">(</span><span class="s">&#39;this&#39;</span><span class="p">,</span>me<span class="p">,</span>envir<span class="o">=</span>thisEnv<span class="p">)</span>

      <span class="c1">## Set the name for the class</span>
      <span class="kp">class</span><span class="p">(</span>me<span class="p">)</span> <span class="o">&lt;-</span> <span class="kp">append</span><span class="p">(</span><span class="kp">class</span><span class="p">(</span>me<span class="p">),</span><span class="s">&quot;NordAmericain&quot;</span><span class="p">)</span>
      <span class="kr">return</span><span class="p">(</span>me<span class="p">)</span>
<span class="p">}</span>
</pre></div>
                    </div>
                    <p>With this definition the methods can be called in a more direct manner.
                    </p>
                    <div class="highlight-rconsole">
                      <div class="highlight"><pre><span></span><span class="gp">&gt; </span>bubba <span class="o">&lt;-</span> NordAmericain<span class="p">(</span>myFavorite<span class="o">=</span><span class="s">&quot;oatmeal&quot;</span><span class="p">)</span>
<span class="gp">&gt; </span>bubba<span class="o">$</span>getFavoriteBreakfast<span class="p">()</span>
<span class="go">[1] &quot;oatmeal&quot;</span>
<span class="gp">&gt; </span>bubba<span class="o">$</span>setFavoriteBreakfast<span class="p">(</span><span class="s">&quot;plain toast&quot;</span><span class="p">)</span>
<span class="gp">&gt; </span>bubba<span class="o">$</span>getFavoriteBreakfast<span class="p">()</span>
<span class="go">[1] &quot;plain toast&quot;</span>
</pre></div>
                    </div>
                    <p>As noted above, <a class="reference internal" href="#s3classesdefinitionenvironment"><span>Local Environment Class</span></a>, this approach can be problematic when making a copy of an object. If you need to make copies of your objects
                      a function must be defined to explicitly make a copy.</p>
                    <div class="highlight-r">
                      <div class="highlight"><pre><span></span>makeCopy <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>elObjeto<span class="p">)</span>
        <span class="p">{</span>
                <span class="kp">print</span><span class="p">(</span><span class="s">&quot;Calling the base makeCopy function&quot;</span><span class="p">)</span>
                <span class="kp">UseMethod</span><span class="p">(</span><span class="s">&quot;makeCopy&quot;</span><span class="p">,</span>elObjeto<span class="p">)</span>
                <span class="kp">print</span><span class="p">(</span><span class="s">&quot;Note this is not executed!&quot;</span><span class="p">)</span>
        <span class="p">}</span>

makeCopy.default <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>elObjeto<span class="p">)</span>
        <span class="p">{</span>
                <span class="kp">print</span><span class="p">(</span><span class="s">&quot;You screwed up. I do not know how to handle this object.&quot;</span><span class="p">)</span>
                <span class="kr">return</span><span class="p">(</span>elObjeto<span class="p">)</span>
        <span class="p">}</span>


makeCopy.NordAmericain <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>elObjeto<span class="p">)</span>
        <span class="p">{</span>
                <span class="kp">print</span><span class="p">(</span><span class="s">&quot;In makeCopy.NordAmericain and making a copy&quot;</span><span class="p">)</span>
                newObject <span class="o">&lt;-</span> NordAmericain<span class="p">(</span>
                        eatsBreakfast<span class="o">=</span>elObjeto<span class="o">$</span>getHasBreakfast<span class="p">(),</span>
                        myFavorite<span class="o">=</span>elObjeto<span class="o">$</span>getFavoriteBreakfast<span class="p">())</span>
                <span class="kr">return</span><span class="p">(</span>newObject<span class="p">)</span>
        <span class="p">}</span>
</pre></div>
                    </div>
                    <p>With this definition we can now make a proper copy of the object and get the expected results.</p>
                    <div class="highlight-rconsole">
                      <div class="highlight"><pre><span></span><span class="gp">&gt; </span>bubba <span class="o">&lt;-</span> NordAmericain<span class="p">(</span>eatsBreakfast<span class="o">=</span><span class="kc">FALSE</span><span class="p">,</span>myFavorite<span class="o">=</span><span class="s">&quot;oatmeal&quot;</span><span class="p">)</span>
<span class="gp">&gt; </span>louise <span class="o">&lt;-</span> makeCopy<span class="p">(</span>bubba<span class="p">)</span>
<span class="go">[1] &quot;Calling the base makeCopy function&quot;</span>
<span class="go">[1] &quot;In makeCopy.NordAmericain and making a copy&quot;</span>
<span class="gp">&gt; </span>louise<span class="o">$</span>getFavoriteBreakfast<span class="p">()</span>
<span class="go">[1] &quot;oatmeal&quot;</span>
<span class="gp">&gt; </span>louise<span class="o">$</span>setFavoriteBreakfast<span class="p">(</span><span class="s">&quot;eggs&quot;</span><span class="p">)</span>
<span class="gp">&gt; </span>louise<span class="o">$</span>getFavoriteBreakfast<span class="p">()</span>
<span class="go">[1] &quot;eggs&quot;</span>
<span class="gp">&gt; </span>bubba<span class="o">$</span>getFavoriteBreakfast<span class="p">()</span>
<span class="go">[1] &quot;oatmeal&quot;</span>
</pre></div>
                    </div>
                  </div>
                </div>
                <div class="section" id="inheritance">
                  <h2><a class="toc-backref" href="#id12">1.5. Inheritance</a><a class="headerlink" href="#inheritance" title="Permalink to this headline">Â¶</a></h2>
                  <span class="target" id="index-10"></span>
                  <p id="index-11">Inheritance is part of what makes it worthwhile to go to the effort of making up a proper class. The basic idea is that another class can be constructed that makes use of all the data and methods of a base class and builds on them by
                    adding additional data and methods.</p>
                  <p>The basic idea is that an object&#8217;s class is a vector that contains an ordered list of classes that an object is a member of. When a new object is created it can add its class name to that list. The methods associated with the class
                    can use the <em>NextMethod</em> command to search for the function associated with the next class in the list.</p>
                  <p>In the examples below we build on the example of the
                    <a class="reference internal" href="#s3classesdefinitionsimple"><span>NorthAmerican class</span></a> defined above. The examples below assume that the NorthAmerican class given above is defined, and the class hierarchy is shown in
                    <a class="reference internal" href="#s3-class-diagram"><span>Figure 1.</span></a>.</p>
                  <div class="align-center figure" id="id3">
                    <span id="s3-class-diagram"></span><img alt="Diagram of the NorthAmerican derived classes." src="images/s3Classes.png" />
                    <p class="caption"><span class="caption-text">Figure 1.</span></p>
                    <div class="legend">
                      Diagram of the NorthAmerican derived classes.</div>
                  </div>
                  <p>A file with the full script is available at
                    <a class="reference external" href="static/s3Inheritance.R">s3Inheritance.R</a> . We do not provide the full code set here in order to keep the discussion somewhat under control. Our first step is to define the new classes.
                  </p>
                  <div class="highlight-r">
                    <div class="highlight"><pre><span></span>Mexican <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>eatsBreakfast<span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span>myFavorite<span class="o">=</span><span class="s">&quot;los huevos&quot;</span><span class="p">)</span>
<span class="p">{</span>

        me <span class="o">&lt;-</span> NorthAmerican<span class="p">(</span>eatsBreakfast<span class="p">,</span>myFavorite<span class="p">)</span>

        <span class="c1">## Add the name for the class</span>
        <span class="kp">class</span><span class="p">(</span>me<span class="p">)</span> <span class="o">&lt;-</span> <span class="kp">append</span><span class="p">(</span><span class="kp">class</span><span class="p">(</span>me<span class="p">),</span><span class="s">&quot;Mexican&quot;</span><span class="p">)</span>
        <span class="kr">return</span><span class="p">(</span>me<span class="p">)</span>
<span class="p">}</span>


USAsian <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>eatsBreakfast<span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span>myFavorite<span class="o">=</span><span class="s">&quot;pork belly&quot;</span><span class="p">)</span>
<span class="p">{</span>

        me <span class="o">&lt;-</span> NorthAmerican<span class="p">(</span>eatsBreakfast<span class="p">,</span>myFavorite<span class="p">)</span>

        <span class="c1">## Add the name for the class</span>
        <span class="kp">class</span><span class="p">(</span>me<span class="p">)</span> <span class="o">&lt;-</span> <span class="kp">append</span><span class="p">(</span><span class="kp">class</span><span class="p">(</span>me<span class="p">),</span><span class="s">&quot;USAsian&quot;</span><span class="p">)</span>
        <span class="kr">return</span><span class="p">(</span>me<span class="p">)</span>
<span class="p">}</span>

Canadian <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>eatsBreakfast<span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span>myFavorite<span class="o">=</span><span class="s">&quot;back bacon&quot;</span><span class="p">)</span>
<span class="p">{</span>

        me <span class="o">&lt;-</span> NorthAmerican<span class="p">(</span>eatsBreakfast<span class="p">,</span>myFavorite<span class="p">)</span>

        <span class="c1">## Add the name for the class</span>
        <span class="kp">class</span><span class="p">(</span>me<span class="p">)</span> <span class="o">&lt;-</span> <span class="kp">append</span><span class="p">(</span><span class="kp">class</span><span class="p">(</span>me<span class="p">),</span><span class="s">&quot;Canadian&quot;</span><span class="p">)</span>
        <span class="kr">return</span><span class="p">(</span>me<span class="p">)</span>
<span class="p">}</span>

Anglophone <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>eatsBreakfast<span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span>myFavorite<span class="o">=</span><span class="s">&quot;pancakes&quot;</span><span class="p">)</span>
<span class="p">{</span>

        me <span class="o">&lt;-</span> Canadian<span class="p">(</span>eatsBreakfast<span class="p">,</span>myFavorite<span class="p">)</span>

        <span class="c1">## Add the name for the class</span>
        <span class="kp">class</span><span class="p">(</span>me<span class="p">)</span> <span class="o">&lt;-</span> <span class="kp">append</span><span class="p">(</span><span class="kp">class</span><span class="p">(</span>me<span class="p">),</span><span class="s">&quot;Anglophone&quot;</span><span class="p">)</span>
        <span class="kr">return</span><span class="p">(</span>me<span class="p">)</span>
<span class="p">}</span>

Francophone <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>eatsBreakfast<span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span>myFavorite<span class="o">=</span><span class="s">&quot;crepes&quot;</span><span class="p">)</span>
<span class="p">{</span>

        me <span class="o">&lt;-</span> Canadian<span class="p">(</span>eatsBreakfast<span class="p">,</span>myFavorite<span class="p">)</span>

        <span class="c1">## Add the name for the class</span>
        <span class="kp">class</span><span class="p">(</span>me<span class="p">)</span> <span class="o">&lt;-</span> <span class="kp">append</span><span class="p">(</span><span class="kp">class</span><span class="p">(</span>me<span class="p">),</span><span class="s">&quot;Francophone&quot;</span><span class="p">)</span>
        <span class="kr">return</span><span class="p">(</span>me<span class="p">)</span>
<span class="p">}</span>
</pre></div>
                  </div>
                  <p>With these definitions we can define an object. In this case we create an object from the Francophone class.</p>
                  <div class="highlight-rconsole">
                    <div class="highlight"><pre><span></span><span class="gp">&gt; </span>francois <span class="o">&lt;-</span> Francophone<span class="p">()</span>
<span class="gp">&gt; </span>francois
<span class="go">$hasBreakfast</span>
<span class="go">[1] TRUE</span>

<span class="go">$favoriteBreakfast</span>
<span class="go">[1] &quot;crepes&quot;</span>

<span class="go">attr(,&quot;class&quot;)</span>
<span class="go">[1] &quot;list&quot;          &quot;NorthAmerican&quot; &quot;Canadian&quot;      &quot;Francophone&quot;</span>
</pre></div>
                  </div>
                  <p>The thing to notice is that the class vector demonstrates the class inheritance structure. We can now define a method, <em>makeBreakfast</em> which will make use of the class structure.</p>
                  <div class="highlight-r">
                    <div class="highlight"><pre><span></span>makeBreakfast <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>theObject<span class="p">)</span>
        <span class="p">{</span>
                <span class="kp">print</span><span class="p">(</span><span class="s">&quot;Calling the base makeBreakfast function&quot;</span><span class="p">)</span>
                <span class="kp">UseMethod</span><span class="p">(</span><span class="s">&quot;makeBreakfast&quot;</span><span class="p">,</span>theObject<span class="p">)</span>
        <span class="p">}</span>

makeBreakfast.default <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>theObject<span class="p">)</span>
        <span class="p">{</span>
                <span class="kp">print</span><span class="p">(</span><span class="kp">noquote</span><span class="p">(</span><span class="kp">paste</span><span class="p">(</span><span class="s">&quot;Well, this is awkward. Just make&quot;</span><span class="p">,</span>
                                  getFavoriteBreakfast<span class="p">(</span>theObject<span class="p">))))</span>
                <span class="kr">return</span><span class="p">(</span>theObject<span class="p">)</span>
        <span class="p">}</span>

makeBreakfast.Mexican <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>theObject<span class="p">)</span>
        <span class="p">{</span>
                <span class="kp">print</span><span class="p">(</span><span class="kp">noquote</span><span class="p">(</span><span class="kp">paste</span><span class="p">(</span><span class="s">&quot;Estoy cocinando&quot;</span><span class="p">,</span>
                                       getFavoriteBreakfast<span class="p">(</span>theObject<span class="p">))))</span>
                <span class="kp">NextMethod</span><span class="p">(</span><span class="s">&quot;makeBreakfast&quot;</span><span class="p">,</span>theObject<span class="p">)</span>
                <span class="kr">return</span><span class="p">(</span>theObject<span class="p">)</span>
        <span class="p">}</span>

makeBreakfast.USAsian <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>theObject<span class="p">)</span>
        <span class="p">{</span>
                <span class="kp">print</span><span class="p">(</span><span class="kp">noquote</span><span class="p">(</span><span class="kp">paste</span><span class="p">(</span><span class="s">&quot;Leave me alone I am making&quot;</span><span class="p">,</span>
                                               getFavoriteBreakfast<span class="p">(</span>theObject<span class="p">))))</span>
                <span class="kp">NextMethod</span><span class="p">(</span><span class="s">&quot;makeBreakfast&quot;</span><span class="p">,</span>theObject<span class="p">)</span>
                <span class="kr">return</span><span class="p">(</span>theObject<span class="p">)</span>
        <span class="p">}</span>

makeBreakfast.Canadian <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>theObject<span class="p">)</span>
        <span class="p">{</span>
                <span class="kp">print</span><span class="p">(</span><span class="kp">noquote</span><span class="p">(</span><span class="kp">paste</span><span class="p">(</span><span class="s">&quot;Good morning, how would you like&quot;</span><span class="p">,</span>
                                       getFavoriteBreakfast<span class="p">(</span>theObject<span class="p">))))</span>
                <span class="kp">NextMethod</span><span class="p">(</span><span class="s">&quot;makeBreakfast&quot;</span><span class="p">,</span>theObject<span class="p">)</span>
                <span class="kr">return</span><span class="p">(</span>theObject<span class="p">)</span>
        <span class="p">}</span>

makeBreakfast.Anglophone <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>theObject<span class="p">)</span>
        <span class="p">{</span>
                <span class="kp">print</span><span class="p">(</span><span class="kp">noquote</span><span class="p">(</span><span class="kp">paste</span><span class="p">(</span><span class="s">&quot;I hope it is okay that I am making&quot;</span><span class="p">,</span>
                                       getFavoriteBreakfast<span class="p">(</span>theObject<span class="p">))))</span>
                <span class="kp">NextMethod</span><span class="p">(</span><span class="s">&quot;makeBreakfast&quot;</span><span class="p">,</span>theObject<span class="p">)</span>
                <span class="kr">return</span><span class="p">(</span>theObject<span class="p">)</span>
        <span class="p">}</span>

makeBreakfast.Francophone <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>theObject<span class="p">)</span>
        <span class="p">{</span>
                <span class="kp">print</span><span class="p">(</span><span class="kp">noquote</span><span class="p">(</span><span class="kp">paste</span><span class="p">(</span><span class="s">&quot;Je cuisine&quot;</span><span class="p">,</span>
                                       getFavoriteBreakfast<span class="p">(</span>theObject<span class="p">))))</span>
                <span class="kp">NextMethod</span><span class="p">(</span><span class="s">&quot;makeBreakfast&quot;</span><span class="p">,</span>theObject<span class="p">)</span>
                <span class="kr">return</span><span class="p">(</span>theObject<span class="p">)</span>
        <span class="p">}</span>
</pre></div>
                  </div>
                  <p>Note that the functions call the <em>NextMethod</em> function to call the next function in the list of classes.</p>
                  <div class="highlight-rconsole">
                    <div class="highlight"><pre><span></span><span class="gp">&gt; </span>francois <span class="o">&lt;-</span> makeBreakfast<span class="p">(</span>francois<span class="p">)</span>
<span class="go">[1] &quot;Calling the base makeBreakfast function&quot;</span>
<span class="go">[1] Good morning, how would you like crepes</span>
<span class="go">[1] Je cuisine crepes</span>
<span class="go">[1] Well, this is awkward. Just make crepes</span>
</pre></div>
                  </div>
                  <p>It is important to note the order that the methods are called. They are called from left to right in the list of classes. Another thing to note is that when the methods run out of class names the default function is called.</p>
                </div>
              </div>


            </div>
          </div>


          <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">

            <a href="s4Classes.html" class="btn btn-neutral float-right" title="2. S4 Classes" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>


            <a href="objectOriented.html" class="btn btn-neutral" title="Object Oriented Programming" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>

          </div>


          <br><br>

          <div class="admonition note">
            <p class="first admonition-title">Sponsorship</p>
            <p class="last">
              This site generously supported by <a href="https://www.datacamp.com/" target="_blank">Datacamp</a>. Datacamp offers a free <a href="https://www.datacamp.com/courses/free-introduction-to-r" target="_blank"> interactive introduction to R coding tutorial</a>              as an additional resource. Already over 100,000 people took this free tutorial to sharpen their R coding skills.
            </p>
          </div>


          <footer>
            <hr/>

            <div role="contentinfo">

              <p>
                <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc/4.0/80x15.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/"
                  href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">R Tutorial</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="mailto:kjblack@gmail.com" property="cc:attributionName" rel="cc:attributionURL">Kelly Black</a>                is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International License</a> (2015).<br />Based on a work at <a xmlns:dct="http://purl.org/dc/terms/"
                  href="http://www.cyclismo.org/tutorial/R/" rel="dct:source">http://www.cyclismo.org/tutorial/R/</a>.
              </p>

              </p>
            </div>
            Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

          </footer>

        </div>
      </div>

    </section>

  </div>


  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: './',
      VERSION: '3.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: true
    };
  </script>
  <script type="text/javascript" src="static/jquery.js"></script>
  <script type="text/javascript" src="static/underscore.js"></script>
  <script type="text/javascript" src="static/doctools.js"></script>
  <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  <script type="text/javascript" src="static/js/theme.js"></script>


  <script type="text/javascript">
    jQuery(function() {
      SphinxRtdTheme.StickyNav.enable();
    });
  </script>


</body>

</html>
